# Issue 品質評分標準

本文件定義了 GitHub Issue 和 Comment 的品質評分標準，供 Claude AI 在評分時參考使用。

## 評分原則

### 核心原則
1. **客觀公正**: 評分應基於實際內容品質,不受個人偏好影響
2. **實用導向**: 重視是否能幫助開發團隊快速理解和解決問題
3. **標準一致**: 同類型的 Issue/Comment 應使用相同的評分標準
4. **建設性**: 評語應具體指出問題和改進方向

### 評分尺度
- **90-100分**: 優秀,超出預期,可作為範例
- **80-89分**: 良好,符合標準,僅需小幅改進
- **70-79分**: 合格,基本符合要求,有明顯改進空間
- **60-69分**: 勉強及格,缺少重要資訊但仍可使用
- **0-59分**: 不及格,缺少關鍵資訊或格式混亂
- **0分**: 完全不符合標準或為無意義內容

---

## 一、Bug Report 評分標準

### 標準 Template 結構

```markdown
## Links
<!-- 來源連結、Parent/child issue、Reference -->

## Environment
<!-- FW/HW/Bootloader 版本、硬體型號等 -->

## Description
<!-- 清楚簡潔的問題描述 -->

## To Reproduce
Steps to reproduce the behavior:
1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See an error

## Expected Behavior
<!-- 期望的行為 -->

## Screenshots/Attachments
<!-- 截圖、附件、配置、快照 -->
```

### 1.1 格式正確性 (0-100分)

**評分要點:**
- ✅ 是否使用標準 Bug Report Template 結構
- ✅ 是否有正確的章節標題 (## Links, ## Environment, ## Description, ## To Reproduce, ## Expected Behavior, ## Screenshots)
- ✅ To Reproduce 是否使用編號列表格式 (1. 2. 3. ...)
- ✅ 是否正確使用 Markdown 語法
- ✅ 是否設置了必要的 labels 和 assignees

**扣分項:**
- ❌ 缺少標準章節標題: 每缺少一個扣 10-15 分
- ❌ To Reproduce 未使用編號列表: 扣 15-20 分
- ❌ 未設置 labels 或 assignees: 扣 10 分
- ❌ 格式混亂,難以閱讀: 扣 20-30 分

**範例:**
- 100分: 完全符合 template,所有章節完整,格式規範
- 70分: 有主要章節但缺少 Screenshots 或 Links
- 40分: 只有簡單描述,沒有結構化內容

### 1.2 內容完整性 (0-100分)

**評分要點:**
- ✅ **Links**: 是否有來源連結或相關 issue 參考
- ✅ **Environment**: 是否包含 FW/HW/Bootloader 版本、硬體型號
- ✅ **Description**: 是否清楚描述問題現象
- ✅ **To Reproduce**: 是否提供詳細的重現步驟 (至少 3 步)
- ✅ **Expected Behavior**: 是否說明期望的結果
- ✅ **Screenshots/Attachments**: 針對視覺相關問題是否提供截圖
- ✅ 是否移除了 template 中的註解提示 (應替換 `<!-- -->` 內容)

**關鍵項目權重:**
- Environment 資訊: 25%
- To Reproduce 步驟: 30%
- Expected Behavior: 20%
- Description: 15%
- Screenshots (如需要): 10%

**扣分項:**
- ❌ Environment 資訊不完整: 扣 20-25 分
- ❌ To Reproduce 步驟太簡略或缺少: 扣 25-35 分
- ❌ 未說明 Expected Behavior: 扣 15-20 分
- ❌ 仍保留 template placeholder (如 "Go to '...'"): 扣 30-40 分

**範例:**
- 100分: 所有欄位完整填寫,資訊詳盡
- 75分: 主要欄位完整,但缺少 Links 或 Screenshots
- 50分: 有基本資訊但步驟不夠詳細
- 20分: 大部分欄位為空或只有 placeholder

### 1.3 清晰度 (0-100分)

**評分要點:**
- ✅ Description 是否清楚易懂,避免模糊表述
- ✅ To Reproduce 步驟是否具體明確 (不能只寫 "Go to '...'" 這種 placeholder)
- ✅ 技術術語使用是否正確
- ✅ 問題現象描述是否準確
- ✅ 是否避免無關資訊
- ✅ 語句是否通順,邏輯是否連貫

**扣分項:**
- ❌ 描述模糊不清: 扣 20-30 分
- ❌ 步驟不具體,無法理解: 扣 25-35 分
- ❌ 術語使用錯誤或不當: 扣 10-15 分
- ❌ 包含大量無關資訊: 扣 15-20 分

**範例:**
- 95分: "點擊 VLAN Settings > Add VLAN > 輸入 VLAN ID 100 > 點擊 Save,系統回報錯誤"
- 70分: "在 VLAN 設定中新增 VLAN 時出現問題"
- 30分: "點了某個按鈕就壞了"

### 1.4 可操作性 (0-100分)

**評分要點:**
- ✅ 開發人員是否能根據步驟重現問題
- ✅ Environment 資訊是否足夠建立測試環境
- ✅ 是否提供具體的錯誤訊息或錯誤代碼
- ✅ Expected Behavior 是否明確,讓開發人員知道如何驗證修復
- ✅ 是否有助於快速定位問題根因

**加分項:**
- ✅ 提供日誌檔案: +5-10 分
- ✅ 提供錯誤代碼或堆疊追蹤: +5-10 分
- ✅ 標註問題的優先級或嚴重程度: +5 分

**扣分項:**
- ❌ 步驟無法重現問題: 扣 30-40 分
- ❌ 環境資訊不足: 扣 20-25 分
- ❌ 沒有提供錯誤訊息: 扣 15-20 分
- ❌ Expected Behavior 不明確: 扣 15-20 分

---

## 二、Task Issue 評分標準

### 2.1 格式正確性 (0-100分)

**評分要點:**
- ✅ 是否有清楚的任務描述
- ✅ Todo 是否使用 checkbox 格式 (`- [ ]`)
- ✅ 是否標註 deadline
- ✅ 是否設置 assignees
- ✅ Markdown 格式是否正確

**扣分項:**
- ❌ 未使用 checkbox 格式: 扣 20-25 分
- ❌ 未標註 deadline: 扣 15 分
- ❌ 未設置 assignees: 扣 10-15 分

### 2.2 內容完整性 (0-100分)

**評分要點:**
- ✅ Description 是否說明任務背景和目標
- ✅ Todo 清單是否詳細且可執行
- ✅ 是否有相關連結或參考資料
- ✅ 是否移除了 template placeholder
- ✅ 是否有驗收標準 (Acceptance Criteria)

### 2.3 清晰度 (0-100分)

**評分要點:**
- ✅ 任務目標是否明確
- ✅ Todo 項目是否具體 (不要太抽象)
- ✅ 是否避免模糊的描述
- ✅ 是否說明為什麼要做這個任務

**範例:**
- 90分: "實作使用者登入功能,包含密碼加密、JWT token 產生、登入失敗重試限制"
- 60分: "做登入功能"
- 30分: "改善系統"

### 2.4 可操作性 (0-100分)

**評分要點:**
- ✅ Todo 項目是否可以直接執行
- ✅ 是否有明確的完成標準
- ✅ 是否合理分配給不同成員
- ✅ Deadline 是否合理

---

## 三、Feature Request 評分標準

### 3.1 格式正確性 (0-100分)

**評分要點:**
- ✅ 是否遵循 Request template 結構
- ✅ 是否包含產品和版本資訊
- ✅ 是否設置適當的 labels
- ✅ Markdown 格式是否正確

### 3.2 內容完整性 (0-100分)

**評分要點:**
- ✅ **Problem Description**: 問題或需求描述是否清楚
- ✅ **Product Info**: 產品系列/型號/平台資訊是否完整
- ✅ **Firmware Version**: 韌體版本是否標註
- ✅ **Specification**: 具體的需求規格是否詳細
- ✅ **Reference**: 是否提供參考資料 (其他產品是否支援)

### 3.3 清晰度 (0-100分)

**評分要點:**
- ✅ 需求是否明確
- ✅ 規格描述是否清楚
- ✅ 是否避免過於技術或過於簡略
- ✅ 使用情境是否清楚

### 3.4 可操作性 (0-100分)

**評分要點:**
- ✅ 開發團隊是否能理解需求
- ✅ 規格是否可以實現
- ✅ 是否有助於評估開發工作量
- ✅ 是否說明需求的優先級

---

## 四、Test Result 評分標準

### 4.1 格式正確性 (0-100分)

**評分要點:**
- ✅ 測試報告結構是否清楚 (Issue Overview, Test Result, Test Environment)
- ✅ 是否使用表格或清單呈現測試結果
- ✅ Markdown 格式是否正確 (標題、表格、列表)
- ✅ 是否有測試日期和測試人員資訊

### 4.2 內容完整性 (0-100分)

**評分要點:**
- ✅ **Issue Overview**: 是否清楚說明測試目的或問題背景
- ✅ **Test Result**: 是否清楚列出測試案例和結果 (Pass/Fail/Blocked)
- ✅ **Test Environment**: 是否包含完整的環境資訊 (FW版本、HW版本、測試設備型號)
- ✅ 失敗的測試案例是否有詳細說明 (錯誤訊息、截圖、日誌)
- ✅ 是否有測試覆蓋率或測試範圍說明

**權重分配:**
- Test Result: 35%
- Test Environment: 30%
- Issue Overview: 20%
- 失敗案例詳細說明: 15%

### 4.3 清晰度 (0-100分)

**評分要點:**
- ✅ 測試結果呈現是否一目了然 (使用表格或清單)
- ✅ 問題描述是否清楚具體
- ✅ 測試數據和統計是否易於理解
- ✅ 使用的技術術語是否正確

### 4.4 可操作性 (0-100分)

**評分要點:**
- ✅ 失敗的測試案例是否有足夠資訊讓開發人員重現問題
- ✅ 是否提供下一步行動建議 (需要修復的項目、阻塞問題)
- ✅ 是否有助於問題追蹤和版本控管
- ✅ 測試環境資訊是否足夠讓其他人重現測試

---

## 五、Comment 評分標準

### 5.1 評論類型識別

**測試結果類評論 (Test Result Comment)**:
- 包含測試結果關鍵字: "test result", "test pass/fail", "測試結果", "驗證完成" 等
- 提供測試數據或測試案例執行結果
- **應該評分**: 使用與 Test Result Issue 相同的標準

**問題詢問類評論 (Question Comment)**:
- 詢問問題細節、環境資訊、重現步驟
- 請求更多資訊或澄清
- **可給 0 分或低分**: 這類評論的目的是收集資訊,不需要完整的格式和內容

**討論類評論 (Discussion Comment)**:
- 提出建議、討論解決方案
- 分享想法或經驗
- **評分標準**: 根據是否有助於問題解決

**更新狀態類評論 (Status Update Comment)**:
- 更新進度、狀態變更
- 通知相關人員
- **評分標準**: 根據資訊的完整性和清晰度

### 5.2 Comment 評分準則

#### 5.2.1 測試結果類評論 (參考 Test Result 標準)
- **格式**: 是否清楚列出測試項目和結果
- **內容**: 是否包含環境資訊和測試數據
- **清晰度**: 結果是否一目了然
- **可操作性**: 失敗項目是否有足夠資訊供跟進

#### 5.2.2 問題詢問類評論
- **0-10 分**: 單純的簡短提問 (如 "環境是？")
- **10-30分**: 問題不清楚或沒有針對性
- **50-70分**: 問題有針對性,有助於釐清問題

#### 5.2.3 討論/建議類評論
- **格式 (權重 20%)**: Markdown 格式是否正確
- **內容 (權重 30%)**: 建議是否具體可行
- **清晰度 (權重 25%)**: 表達是否清楚易懂
- **可操作性 (權重 25%)**: 是否有助於問題解決

#### 5.2.4 狀態更新類評論
- **內容完整性**: 是否說明更新了什麼、為什麼更新
- **清晰度**: 訊息是否清楚傳達給相關人員
- **可操作性**: 是否有明確的後續行動

### 5.3 一般評論評分範例

**90-100分**: 詳細的測試結果報告,包含完整的環境資訊、測試數據和失敗原因分析

**70-89分**: 有用的建議或討論,提供了具體的解決方案或重要資訊

**50-69分**: 簡單的狀態更新或確認訊息,資訊有用但不夠詳細

**30-49分**: 簡短的回覆或確認,資訊價值有限

**0-29分**: 簡單提問或無意義的評論

**0分**: 完全無關的評論或垃圾訊息

---

## 六、特殊情況處理

### 6.1 從其他 Repo 複製的 Issue

**檢查項目:**
- ✅ 圖片連結是否已更新 (不應該還指向舊 repo)
- ✅ 相關連結是否正確
- ✅ Environment 資訊是否需要更新

**扣分:**
- 圖片連結未更新: 扣 10-15 分 (清晰度)

### 6.2 未完成的 Issue

**識別標記:**
- 仍保留 template 註解 (`<!-- ... -->`)
- To Reproduce 步驟只有 placeholder ("Go to '...'")
- Environment 資訊為空或只有 template 範例

**評分:**
- 格式分數: 可給基本分 (30-50分)
- 內容分數: 大幅扣分 (20-40分)
- 總體評語: 明確指出這是未完成的 Issue

### 6.3 重複或參考其他 Issue 的情況

如果 Issue 主要是參考其他 Issue:
- 檢查是否有清楚的連結
- 是否說明了為什麼要參考
- 是否補充了額外資訊

評分不應過低,但應建議補充獨立的資訊。

---

## 七、評分流程

1. **識別類型**: 先判斷是 Bug Report、Task、Request、Test Result 或 Comment
2. **檢查格式**: 是否遵循標準 template 結構
3. **評估完整性**: 檢查必填欄位是否完整
4. **評估清晰度**: 內容是否清楚易懂
5. **評估可操作性**: 是否足夠讓團隊採取行動
6. **計算總分**: 四個維度的平均分
7. **撰寫建議**: 提供 2-5 項具體的改進建議

---

## 八、建議撰寫準則

### 好的建議範例:
✅ "建議在 Environment 欄位中補充 Bootloader 版本資訊"
✅ "To Reproduce 步驟可以更具體,例如: '1. 登入 Web UI 2. 進入 VLAN Settings 3. 點擊 Add VLAN...'"
✅ "建議補充錯誤訊息的截圖或日誌檔案,以幫助快速定位問題"

### 避免的建議:
❌ "寫得太簡單了" (太籠統,沒有指出具體改進方向)
❌ "應該寫得更好" (沒有建設性)
❌ "格式不對" (應該說明哪裡不對、如何修正)

---

## 九、使用此標準的方法

### 在程式碼中使用:

```python
# 讀取評分標準
with open('SCORING_CRITERIA.md', 'r', encoding='utf-8') as f:
    criteria = f.read()

# 構建完整的 prompt
prompt = f"""
請根據以下評分標準評估 Issue/Comment:

{criteria}

---

請評分以下內容:

**標題**: {title}
**內容**: {body}
"""

# 使用 Claude CLI 評分
result = subprocess.run(['claude', '--print', prompt], ...)
```

---

## 十、版本歷史

- **v1.0 (2025-11-06)**: 初始版本,定義 Bug Report 基本評分標準
- **v2.0 (2025-11-07)**:
  - 新增 Task、Feature Request、Test Result 和 Comment 評分標準
  - 增加評分尺度說明和特殊情況處理
  - 補充建議撰寫準則和使用方法
